<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3c.org/TR/1999/REC-html401-19991224/loose.dtd">
<HTML xmlns:fb = "http://www.facebook.com/2008/fbml">
<HEAD profile=http://purl.org/NET/erdf/profile>
<TITLE>StumbleUpon - Create Your Personal Account</TITLE>
<META http-equiv=Content-Type content="text/html; charset=iso-8859-1">
<META
content="Discover your web with StumbleUpon. It's the best way to discover the things you like on the web."
name=description>
<META content=", stumbleupon, stumbleupon.com, stumble" name=keywords><LINK
href="http://cdn.stumble-upon.com/favicon.ico" type="image/x-icon" rel="shortcut icon">
<%= stylesheet_link_tag "screen_0708" %>
<LINK href="http://purl.org/dc/elements/1.1/"
rel=schema.dc><LINK href="http://search.yahoo.com/mrss/" rel=schema.media><LINK
href="http://www.w3.org/2000/01/rdf-schema#" rel=schema.rdfs><LINK
href="http://search.yahoo.com/searchmonkey-relation/" rel=schema.rel><LINK
href="http://search.yahoo.com/searchmonkey/reference/" rel=schema.reference>
<SCRIPT
src="/javascripts/jquery-1.2.6.min.js"
type=text/javascript></SCRIPT>

<SCRIPT src="/javascripts/base.js"
type=text/javascript></SCRIPT>

<SCRIPT
src="/javascripts/yahoo.js"
type=text/javascript></SCRIPT>

<SCRIPT
src="/javascripts/connection.js"
type=text/javascript></SCRIPT>

<SCRIPT
src="/javascripts/event.js"
type=text/javascript></SCRIPT>

<SCRIPT type="text/javascript">
	var SERVERDOM = ".stumbleupon.com";

	function trk(u) {
		if (document.images)
			(new Image).src=u;
		return true;
	}

	</SCRIPT>

<SCRIPT type=text/javascript>

    function flip_profile_version()
    {
		$("#flip_to_new_profile_page").submit();
    }

</SCRIPT>
<META content="MSHTML 6.00.6001.18248" name="GENERATOR">
</HEAD>
<BODY>
<DIV class=headerWrapper align=center>
<DIV class=wrapperFixedSm align=left>
<DIV id=logo><A class=png id=logoLink
href="http://www.stumbleupon.com/">&nbsp;</A>
<H2><A href="http://www.stumbleupon.com/">StumbleUpon</A></H2>
<P><A href="http://www.stumbleupon.com/">Discover your web</A></P></DIV>
<DIV class="right pdgTopLg form" align=right>
<DIV class="pdgTopSm pdgBottomXSm textNowrap"><SPAN class=textGray>还没注册?</SPAN> <A class=textUl
href="/user/sign_up">注册</A>.
</DIV></DIV></DIV></DIV>
<DIV class=clear><!-- --></DIV>
<DIV class=nav style="HEIGHT: 10px" align=left>
<DIV class=wrapperFixedSm align=left></DIV></DIV>
<SCRIPT type=text/javascript>
	var fauth = '4a63027c737b69.41779995';

	if (navigator.userAgent.indexOf('MSIE') > -1)
	{
		if (document.documentElement.offsetHeight && document.documentElement.offsetHeight < 406)
		{
			var diff = 406 - document.documentElement.offsetHeight;
			var newY = diff * -1;
			var newWidth = document.documentElement.offsetWidth + 2;
			window.moveBy(0,newY);
			window.resizeTo(newWidth, 600);
		}
	}

function textEventHandler(e,target)
{
	// Get the id of the text box
	var targetid = this.id;

	// Get the contents of the text box
	var textvalue = document.getElementById(targetid).value;

	// If the textbox is empty don't do any validation
	if(textvalue == '')
		return;
	else
		checkAvail(targetid);
}

function checkAvail(inputType)
{
	var callback = {
			success : function (o) {
			var lvl = o.responseText;
			var resultDiv;

			// Hide the error div that is generated by backend
			var errorDiv = document.getElementById(inputType + 'Error');
			if (errorDiv)
				errorDiv.style.display = 'none';

			var img = document.getElementById(inputType + '_check');

			if(lvl == 'invalid')
			{
				document.getElementById(inputType + '_err_' + 'already_exists').style.display='none';
				document.getElementById(inputType + '_err_' + lvl).style.display='block';
				img.src = 'images/icon_warning.gif';
			}
			else if(lvl == 'already_exists')
			{
				document.getElementById(inputType + '_err_' + 'invalid').style.display='none';
				document.getElementById(inputType + '_err_' + lvl).style.display='block';
				img.src = 'images/icon_warning.gif';
			}
			else
			{
				img.src = 'images/icon_accept.gif';
				document.getElementById(inputType + '_err_' + 'already_exists').style.display='none';
				document.getElementById(inputType + '_err_' + 'invalid').style.display='none';
			}
		},
		failure : function (o) {
		},
		timeout : 10000
	}

	var check_item = document.getElementById(inputType).value;
	// Do custom encoding for "+" ,replace "+" with %2B so that it does not get automatically converted to space
	check_item = check_item.replace('+', '%2B');

	var params = 'item_type=' + inputType + '&check_item='+ check_item + '&ftoken='+fauth;
	YAHOO.util.Connect.asyncRequest('POST','check_availability.php', callback, params);
}

function generalEventHandler()
{
	var target_id = this.id;
	var inputType = this.id;
	var params = 'item_type=' + inputType + '&ftoken='+fauth;
	YAHOO.util.Connect.asyncRequest('POST','check_availability.php', '', params);
}

// Register event for email and user name text boxes blur events(when the email or user name text inputs go out of focus)
YAHOO.util.Event.addListener("nick", "blur", textEventHandler);
YAHOO.util.Event.addListener("email", "blur", textEventHandler);
YAHOO.util.Event.addListener("bmonth", "focus", generalEventHandler);
YAHOO.util.Event.addListener("bday", "focus", generalEventHandler);
YAHOO.util.Event.addListener("byear", "focus", generalEventHandler);

	function delayedRedirect(){
			window.location = "/download_autostart.php?type=ie"
	}


	</SCRIPT>

<DIV class=wrapperFixedSm id=wrapper>
<H1 class=pdgTop>Login or Sign Up now to discover great sites! </H1>
<TABLE class=main cellSpacing=0 cellPadding=0 border=0>
  <TBODY>
  <TR>
    <TD class=sidebar>
      <DIV class="pdgTop pdgLeft" style="WIDTH: 400px">
      <DIV class="form bannerPromo">
      <% form_tag :id=>"loginForm", :name=>"formLogin", :url=> {:controller=>"user",:action=>"login"} do -%>
      <H2 class="pdgTopSm textOk">已有账户?</H2>
      <P class=fieldLabel>Email或者用户名</P><INPUT id=username
      style="WIDTH: 150px" tabIndex=20 maxLength=128 size=25 name=username>
      <P class=fieldLabel>密码</P><INPUT id=password style="WIDTH: 150px"
      tabIndex=21 type=password maxLength=128 size=25 name=password>
      <DIV class=textDisabled><INPUT id=rememberme type=checkbox value=1
      name=rememberme><LABEL for=rememberme>记住我</LABEL> </DIV>
      <DIV class="clear pdgTopSm"><!-- --></DIV>
      <INPUT class=btnGreen tabIndex=22 type=submit value=" 登录 ">
      <A class="pdgLeft textNoEm"
      href="/index">Forgot password?</A> <INPUT type=hidden value=home name=session_url>
      <% end -%>
      <DIV class="clear pdgTopSm"><!-- --></DIV></DIV></DIV>
      <DIV></DIV></TD></TR></TBODY></TABLE>
</DIV>
<SCRIPT type="text/javascript">
var eaf = document.getElementById('username');
if (eaf)
	eaf.focus();
</SCRIPT>

<DIV class="pdgTop clear"><!-- --></DIV>
<DIV class=footer style="BACKGROUND-COLOR: transparent" align=center>
<DIV class=wrapperFlex align=center>
<DIV class=clear><!-- --></DIV></DIV>
<P class="clear pdgTop pdgBottomSm textDisabled textSm" align=center>?
StumbleUpon 2001-2009 </P></DIV>
<DIV id=sidePanel style="DISPLAY: none; TOP: 32px">
<DIV id=spLoading><IMG alt=Loading...
src="/images/loader_dark.gif"></DIV><IFRAME
id=spFrame style="WIDTH: 250px; HEIGHT: 100%" name=spFrame src="about:blank"
frameBorder=0 noResize></IFRAME></DIV>
<SCRIPT type="text/javascript">

	jQuery(document).ready(function() {

		jQuery('a.tips').cluetip({
			cluetipClass: 'jtip',
			dropshadow: false,
			showTitle: false,
			splitTitle: '|',
			arrows: true,
			width: 150,
			dropShadow: false,
			hoverIntent: {
							  sensitivity:  3,
							  interval:     400,
							  timeout:      0
			}
		});

		// Stumble Search
		$('#stumble_search').click(function() {
			var q = $('#search_q').val();
			//var hash = q ? '#search=' + q : '';
			var hash = q ? 'search:' + q : '';

			//window.location = 'http://www' + SERVERDOM + '/s/' + hash;
			window.location = 'http://www' + SERVERDOM + '/s/#/' + hash;
		});

		// Scroll Follow Side Panel
		var spoffset = -32;
		if($('#expandedToolbar').length == 0)
		{
			spoffset = 0;
			$('#sidePanel').css('top',0);
		}

		$('#sidePanel').scrollFollow({
			offset:spoffset
		});

	});

</SCRIPT>

<SCRIPT
src="/javascripts/s_code.js"
type=text/javascript></SCRIPT>

<SCRIPT type=text/javascript><!--
s.pageName="Reg Flow: Sign Up Form Non Invite IE";
s.eVar9 = 'Visitor';
s.eVar8 = 'ie';
s.prop9 = 'Visitor';
s.prop8 = 'ie';
if(window.tp_variation !== undefined && window.tp_variation != ""){s.prop10=tp_variation;s.eVar10=tp_variation;}
if(window.hp_variation !== undefined && window.hp_variation != ""){s.pageName=hp_variation;}
var s_code=s.t();if(s_code)document.write(s_code)//-->
</SCRIPT>
<!-- Start Quantcast tag -->
<SCRIPT
src="/javascripts/quant.js"
type=text/javascript></SCRIPT>

<SCRIPT type=text/javascript>_qacct="p-dez5MJMQSF95o";quantserve();</SCRIPT>
<NOSCRIPT><A href="http://www.quantcast.com/p-dez5MJMQSF95o" target=_blank><IMG
style="DISPLAY: none" height=1 alt=Quantcast
src="/images/p-dez5MJMQSF95o.gif"
width=1 border=0></A> </NOSCRIPT><!-- End Quantcast tag --></BODY></HTML>
